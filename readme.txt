一、键盘板通过rk3399的iic3升级单片机程序，2023-05-06
1.目前具备基本的升级功能，从iap升级是可以成功的。
2.升级的时候，没有跑应用程序，卸载了jc_keyboard.ko文件。
3.目前问题还是比较多：
3.1 rk3399读取数据的时候，似乎总是读取两个字节，比如我上传md5的时候，我发送了34个字节，3399却只收到了17个字节，确实是偶数字节丢失了。
      原因未知，现在的处理就是间隔发送数据，这肯定是要排查的。
3.2 ymodem发送数据的时候会发送重复帧，目前通过单片机把数据过滤了一下，但是这应该也是有问题，首先就是没必要重复发送数据，浪费时间空间。
      第二可能也会导致其他风险。
3.3 单片机程序升级失败之后的处理，比如这次重复帧的时候，程序是烧到了单片机的flash中，但是因为有重复帧，导致单片机不能启动，这个问题该如何处理？需要考虑一下。目前的现象就是单片机反复进入app，但是app又不能正常启动，导致看门狗超时，就这样反复，也无法进入烧写模式。
4.先进行第一版备份吧，这些问题肯定还要继续解决的。其他问题待测。